{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aakas\\\\OneDrive\\\\Desktop\\\\Foodie_Adda_React\\\\src\\\\Cart\\\\CartItem.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { BiMinus, BiPlus } from \"react-icons/bi\";\nimport { motion } from \"framer-motion\";\nimport { useStateValue } from \"../Context/StateProvider\";\nimport { actionType } from \"../Context/Reducer\";\nimport { fetchCart } from \"../utils/fetchLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet items = [];\nconst CartItem = _ref => {\n  _s();\n  let {\n    item,\n    setFlag,\n    flag\n  } = _ref;\n  const [{\n    cartItems\n  }, dispatch] = useStateValue();\n  const [qty, setQty] = useState(item.qty);\n  const cartDispatch = () => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(items));\n    dispatch({\n      type: actionType.SET_CARTITEMS,\n      cartItems: items\n    });\n  };\n  const updateQty = (action, id) => {\n    if (action == \"add\") {\n      setQty(qty + 1);\n      cartItems.map(item => {\n        if (item.id === id) {\n          item.qty += 1;\n          setFlag(flag + 1);\n        }\n      });\n      cartDispatch();\n    } else {\n      // initial state value is one so you need to check if 1 then remove it\n      if (qty == 1) {\n        items = cartItems.filter(item => item.id !== id);\n        setFlag(flag + 1);\n        cartDispatch();\n      } else {\n        setQty(qty - 1);\n        cartItems.map(item => {\n          if (item.id === id) {\n            item.qty -= 1;\n            setFlag(flag + 1);\n          }\n        });\n        cartDispatch();\n      }\n    }\n  };\n  useEffect(() => {\n    items = cartItems;\n  }, [qty, items]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: item === null || item === void 0 ? void 0 : item.imageURL,\n      className: \"w-20 h-20 max-w-[60px] rounded-full object-contain\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: item === null || item === void 0 ? void 0 : item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"$ \", parseFloat(item === null || item === void 0 ? void 0 : item.price) * qty]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"w-5 h-5 rounded-sm bg-cartBg text-gray-50 flex items-center justify-center\",\n      children: qty\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(CartItem, \"sbhqf5/KdrjMqR1PLPnq9PANC94=\", false, function () {\n  return [useStateValue];\n});\n_c = CartItem;\nexport default CartItem;\nvar _c;\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"names":["React","useEffect","useState","BiMinus","BiPlus","motion","useStateValue","actionType","fetchCart","items","CartItem","item","setFlag","flag","cartItems","dispatch","qty","setQty","cartDispatch","localStorage","setItem","JSON","stringify","type","SET_CARTITEMS","updateQty","action","id","map","filter","imageURL","title","parseFloat","price"],"sources":["C:/Users/aakas/OneDrive/Desktop/Foodie_Adda_React/src/Cart/CartItem.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { BiMinus, BiPlus } from \"react-icons/bi\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useStateValue } from \"../Context/StateProvider\";\r\nimport { actionType } from \"../Context/Reducer\";\r\nimport { fetchCart } from \"../utils/fetchLocalStorage\";\r\nlet items = [];\r\n\r\nconst CartItem = ({ item, setFlag, flag }) => {\r\n    const [{ cartItems }, dispatch] = useStateValue();\r\n    const [qty, setQty] = useState(item.qty);\r\n\r\n    const cartDispatch = () => {\r\n        localStorage.setItem(\"cartItems\", JSON.stringify(items));\r\n        dispatch({\r\n            type: actionType.SET_CARTITEMS,\r\n            cartItems: items,\r\n        });\r\n    };\r\n\r\n    const updateQty = (action, id) => {\r\n        if (action == \"add\") {\r\n            setQty(qty + 1);\r\n            cartItems.map((item) => {\r\n                if (item.id === id) {\r\n                    item.qty += 1;\r\n                    setFlag(flag + 1);\r\n                }\r\n            });\r\n            cartDispatch();\r\n        } else {\r\n            // initial state value is one so you need to check if 1 then remove it\r\n            if (qty == 1) {\r\n                items = cartItems.filter((item) => item.id !== id);\r\n                setFlag(flag + 1);\r\n                cartDispatch();\r\n            } else {\r\n                setQty(qty - 1);\r\n                cartItems.map((item) => {\r\n                    if (item.id === id) {\r\n                        item.qty -= 1;\r\n                        setFlag(flag + 1);\r\n                    }\r\n                });\r\n                cartDispatch();\r\n            }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        items = cartItems;\r\n    }, [qty, items]);\r\n\r\n    return (\r\n        <div>\r\n            <img\r\n                src={item?.imageURL}\r\n                className=\"w-20 h-20 max-w-[60px] rounded-full object-contain\"\r\n                alt=\"\"\r\n            />\r\n\r\n            {/* name section */}\r\n            <div >\r\n                <p >{item?.title}</p>\r\n                <p >\r\n                    $ {parseFloat(item?.price) * qty}\r\n                </p>\r\n            </div>\r\n\r\n\r\n            <p className=\"w-5 h-5 rounded-sm bg-cartBg text-gray-50 flex items-center justify-center\">\r\n                {qty}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartItem;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,MAAM,QAAQ,gBAAgB;AAChD,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,SAASC,SAAS,QAAQ,4BAA4B;AAAC;AACvD,IAAIC,KAAK,GAAG,EAAE;AAEd,MAAMC,QAAQ,GAAG,QAA6B;EAAA;EAAA,IAA5B;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAK,CAAC;EACrC,MAAM,CAAC;IAAEC;EAAU,CAAC,EAAEC,QAAQ,CAAC,GAAGT,aAAa,EAAE;EACjD,MAAM,CAACU,GAAG,EAAEC,MAAM,CAAC,GAAGf,QAAQ,CAACS,IAAI,CAACK,GAAG,CAAC;EAExC,MAAME,YAAY,GAAG,MAAM;IACvBC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACb,KAAK,CAAC,CAAC;IACxDM,QAAQ,CAAC;MACLQ,IAAI,EAAEhB,UAAU,CAACiB,aAAa;MAC9BV,SAAS,EAAEL;IACf,CAAC,CAAC;EACN,CAAC;EAED,MAAMgB,SAAS,GAAG,CAACC,MAAM,EAAEC,EAAE,KAAK;IAC9B,IAAID,MAAM,IAAI,KAAK,EAAE;MACjBT,MAAM,CAACD,GAAG,GAAG,CAAC,CAAC;MACfF,SAAS,CAACc,GAAG,CAAEjB,IAAI,IAAK;QACpB,IAAIA,IAAI,CAACgB,EAAE,KAAKA,EAAE,EAAE;UAChBhB,IAAI,CAACK,GAAG,IAAI,CAAC;UACbJ,OAAO,CAACC,IAAI,GAAG,CAAC,CAAC;QACrB;MACJ,CAAC,CAAC;MACFK,YAAY,EAAE;IAClB,CAAC,MAAM;MACH;MACA,IAAIF,GAAG,IAAI,CAAC,EAAE;QACVP,KAAK,GAAGK,SAAS,CAACe,MAAM,CAAElB,IAAI,IAAKA,IAAI,CAACgB,EAAE,KAAKA,EAAE,CAAC;QAClDf,OAAO,CAACC,IAAI,GAAG,CAAC,CAAC;QACjBK,YAAY,EAAE;MAClB,CAAC,MAAM;QACHD,MAAM,CAACD,GAAG,GAAG,CAAC,CAAC;QACfF,SAAS,CAACc,GAAG,CAAEjB,IAAI,IAAK;UACpB,IAAIA,IAAI,CAACgB,EAAE,KAAKA,EAAE,EAAE;YAChBhB,IAAI,CAACK,GAAG,IAAI,CAAC;YACbJ,OAAO,CAACC,IAAI,GAAG,CAAC,CAAC;UACrB;QACJ,CAAC,CAAC;QACFK,YAAY,EAAE;MAClB;IACJ;EACJ,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACZQ,KAAK,GAAGK,SAAS;EACrB,CAAC,EAAE,CAACE,GAAG,EAAEP,KAAK,CAAC,CAAC;EAEhB,oBACI;IAAA,wBACI;MACI,GAAG,EAAEE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEmB,QAAS;MACpB,SAAS,EAAC,oDAAoD;MAC9D,GAAG,EAAC;IAAE;MAAA;MAAA;MAAA;IAAA,QACR,eAGF;MAAA,wBACI;QAAA,UAAKnB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEoB;MAAK;QAAA;QAAA;QAAA;MAAA,QAAK,eACrB;QAAA,iBACOC,UAAU,CAACrB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsB,KAAK,CAAC,GAAGjB,GAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAChC;IAAA;MAAA;MAAA;MAAA;IAAA,QACF,eAGN;MAAG,SAAS,EAAC,4EAA4E;MAAA,UACpFA;IAAG;MAAA;MAAA;MAAA;IAAA,QACJ;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEd,CAAC;AAAC,GAnEIN,QAAQ;EAAA,QACwBJ,aAAa;AAAA;AAAA,KAD7CI,QAAQ;AAqEd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module"}